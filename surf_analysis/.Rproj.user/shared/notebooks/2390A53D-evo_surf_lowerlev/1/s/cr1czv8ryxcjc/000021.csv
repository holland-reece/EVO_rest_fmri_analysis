"0","# Pre- vs. Post-Tx ROI-Based Analysis Within Subjects"
"0","roiMasks_dir <- ""/home/holland/Desktop/EVO_TEST/EVO_rest_surface/EVO_surface_roi_masks"""
"0",""
"0","# Paths to CIFTI ROI masks"
"0","roi_masks <- list("
"0","  ""L_MFG"" = sprintf(""%s/L_MFG/L_MFG_bin.dscalar.nii"", roiMasks_dir)"
"0",")"
"0",""
"0","# Load ROI masks"
"0","roi_data <- lapply(roi_masks, read_cifti)"
"0",""
"0","roi_results <- list()"
"0","for(roi in names(roi_data)){"
"0","  "
"0","  # roiMask <- read_cifti(roiMask_path)"
"0","  "
"0","  for(sub in subs){"
"0","    surf_path <- sprintf(""%s/%s/func/rest/session_%s/run_%s/Rest_ICAAROMA.nii.gz/%s"",datadir,sub,session,run,surf_fn) # path to subject's cifti file"
"0","    cifti_data <- read_cifti(surf_path) # load subject's cifti file"
"0","    "
"0","    # Multiply data by the mask to zero out non-ROI voxels (works bc ROI mask is binary)"
"0","    roi_mask$data <- roi_data[[roi]]$data != 0"
"0","    masked_data <- cifti_data$data * roi_mask$data"
"0","    roi_results[[roi]] <- masked_data"
"0","  "
"0","}"
"0",""
"0","}"
"2","Error in roi_data[[roi]]$data != 0 : 
  'list' object cannot be coerced to type 'double'
"
